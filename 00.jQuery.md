## 1. jQuery简介

### 1.1 JavaScript库的概念

	JavaScript开发的过程中，处理浏览器的兼容很复杂而且很耗时，于是一些封装了这些操作的库应运而生。这些库还会把一些常用的代码进行封装。
	
	jQuery是一个JavaScript工具库（类库），它通过封装原生的JavaScript函数得到一整套定义好的方 法。它的作者是John Resig，于2006年创建的一个开源项目,简化JavaScript对DOM操作。随着越来越多开发者的加入， jQuery已经集成了JavaScript、CSS、DOM和Ajax于一体的强大功能。它可以用最少的代码， 完成更多复杂而困难的功能，从而得到了开发者的青睐。
	
	一句话总结类库。 就是JavaScript的工具库。 原始社会生火方式， 钻木取火。 但是有了火柴就不一样了。

```javascript
1.jQuery是一个快速、轻便、且富客户端特征的js库。（依赖程序少，占用资源少）
2.他能够操作html文档、事件、动画，并且能够更加简单的api跨大多浏览器使用ajax技术
3.jQuery兼容CSS3，兼容主流浏览器
4.jQuery已经改变了数百万计程序员书写js的方式
```

### 1.2 jQuery的优点好处

```javascript
（1）写少代码,做多事情【write less do more】
（2）免费，开源且轻量级的js库，容量很小.注意：项目中，提倡引用min版的js库
（3）兼容市面上主流浏览器，例如 IE，Firefox，Chrome
（4）能够处理HTML/JSP/XML、CSS、DOM、事件、实现动画效果，也能提供异步AJAX功能
（5）文档手册很全，很详细
（6）成熟的插件可供选择
```

### 1.3 jQuery的版本

```javascript
jQuery版本有很多，分为1.x 2.x 3.x

1.x版本：能够兼容IE678浏览器
2.x版本：不兼容IE678浏览器,1.x和2.x版本jquery都不再更新版本了，现在只更新3.x版本。
3.x版本：不兼容IE678，更加的精简（在国内不流行，因为国内使用jQuery的主要目的就是兼容IE678）

国内多数网站还在使用1.x的版本，主要是考虑兼容主流浏览器
```
[jQuery官网](https://jquery.com)


### 1.4 体验jQuery

```javascript
//使用JavaScript开发过程中，有许多不便之处
1.查找元素的方法太少，麻烦。
2.遍历伪数组很麻烦，通常要嵌套一大堆的for循环。
3.有兼容性问题。
4.想要实现简单的动画效果，也很麻烦
5.代码冗余。
```

```javascript
//案例：让div显示与设置内容
<input type="button" id="btn1" value="点我显示">
<input type="button" id="btn2" value="点我设置内容">
<div></div>
<div></div>
<div></div>
<div></div>

<style>
    div{
        width: 100px;
        height:100px;
        background: red;
        display: none;
    }
</style>

$(document).ready(function () {
    $('#btn1').click(function () {
      	// 隐式迭代：偷偷的遍历，在jQuery中，不需要手动写for循环了，会自动进行遍历。
        $('div').show(200);
    });

    $('#btn2').click(function () {
        $('div').text('我是内容');
    });
});
```

```javascript
//jquery优点总结：
1.查找元素的方法多种多样，非常灵活
2.拥有隐式迭代特性，因此不再需要手写for循环了。
3.没有兼容性问题。
4.实现动画非常简单，而且功能更加的强大。
5.代码简单、粗暴。
```

### 1.5 jQuery中顶级对象

```javascript
jQuery中的顶级对象是$或jQuery,$和JQuery关键字本身为同一对象
```

### 1.6 jQuery中页面加载事件

```javascript
//使用jQuery的三个步骤：
（1）引用第三方js库文件，<script type="text/javascript" src="js/jquery-1.8.2.js"></script>
（2）入口函数
（3）查阅并使用api手册，$("#divID").html()/val()/text()/css("color","red")/....
```

```javascript
//关于jQuery的入口函数：
// 第一种写法
$(document).ready(function() {
	
});

// 第二种写法
jQuery(function () {
	console.log("纯洁的我就是这么帅的1");
});

// 第三种写法
$(function() {
	
});
```

```javascript
//jQuery入口函数与window.onload的对比
1.JavaScript的入口函数要等到页面中所有资源（包括图片、文件）加载完成才开始执行。
2.jQuery的入口函数只会等待文档树加载完成就开始执行，并不会等待图片、文件的加载。
3.JQuery的入口函数可以写很多个不被替换，window.onload只能写一个
```

### 1.7 jQuery对象和DOM对象

#### 1.7.1 DOM对象

```
1.用原生JavaScript获取的DOM对象。通过document.getElementById()  返回的是元素(DOM对象)
2.通过document.getElementsByTagName()获取到的是什么？ 伪数组(集合)，集合中的每一个对象是DOM对象
```

#### 1.7.2 jQuery对象

```
1.jQuery对象用$()的方式获取的对象
2.jQuery对象又可以叫做包装集(包装的DOM对象的集合)
```

#### 1.7.3 获取jQuery对象和DOM对象

```javascript
//var divElement = document.getElementById("divID");  //js的dom对象
var $div = $("#divID");   //jquery对象
//var html = divElement.innerHTML;   //js对象的属性
var html = $div.html();    //jquery对象的方法
alert(html);

//建议jQuery对象都以$开头
//注意点：jQuery对象不能使用DOM对象的成员，DOM对象不能使用jQuery对象的成员
```

![](media\a1.png)

#### 1.7.4 jQuery对象和DOM对象的相互转换

```javascript
//1.js对象转换为jquery对象
var inputElement = document.getElementById("inputID");//js对象 
var $input = $(inputElement);//jquery对象
var txt = $input.val();
alert(txt);

//2.jQuery对象转成js对象
//每个jQuery是一个数组，里面放了若干个js对象，所以可以通过$div[0]来获取指定js对象
var $div = $("#divID");//jquery对象
var divElement = $div[0];//js对象(方式一)
//var divElement = $div.get(0);//js对象(方式二)
var txt = divElement.innerHTML;		  
alert(txt);
```

## 2.选择器

	jQuery选择器是jQuery为我们提供的一组方法，让我们更加方便的获取到页面中的元素。注意：jQuery选择器返回的是jQuery对象。
	
	jQuery选择器有很多，基本兼容了CSS1到CSS3所有的选择器，并且jQuery还添加了很多更加复杂的选择器。（查看jQuery文档）
	
	jQuery选择器虽然很多，但是选择器之间可以相互替代，就是说获取一个元素，你会有很多种方法获取到。所以我们平时真正能用到的只是少数的最常用的选择器。

### 2.1 jQuery基本选择器

```html
#id        id选择器，<xxx id=""> 通过id值获得元素
element    标签选择器，<xxx> 通过标签名获得元素
.class     类选择器，<xxx class=""> 通过class值获得元素。
*          所有元素
s1,s2,...  多选择器，将多个选择器的结果添加一个数组中。
```

- 案例：


```javascript
$(document).ready(
    function(){
        //<input type="button" value="选择 id为 one 的元素." id="btn1"/>  
        $("#btn1").click(function(){
            $("#one").css("background-color","red");
        });
        //<input type="button" value="选择 class 为 mini 的所有元素." id="btn2"/>
        $("#btn2").click(function(){
            $(".mini").css("background-color","blue");
        });
        //<input type="button" value="选择 元素名是 div 的所有元素." id="btn3"/>
        $("#btn3").click(function(){
            $("div").css("background-color","yellow");
        });
        //<input type="button" value="选择 所有的元素." id="btn4"/>
        $("#btn4").click(function(){
            $("*").css("background-color","green");
        });
        //<input type="button" value="选择 所有的span元素和id为two的元素." id="btn5"/>
        $("#btn5").click(function(){
            $("span,#two").css("background-color","brown");
        });
    }
);
```

```javascript
//jQuery案例-开关灯
<script>
    //页面的加载事件
    $(function () {
        //获取按钮,注册点击事件
        $("#btn").click(function () {
            //.val()方法--->获取按钮的value属性的值
            //.val("内容");是设置按钮的value属性的值
            if($(this).val()=="关灯"){
                $("body").css("backgroundColor","black");
                $(this).val("开灯");
            }else{
                $("body").css("backgroundColor","white");
                $(this).val("关灯");
            }
        });
    });
</script>
```

### 2.2 jQuery层级选择器

```html
A  B  ，获得A元素内部所有的B元素。（爷孙）
A > B ，获得A元素内部所有的B子元素。（父子）
A + B ，获得A元素后面的第一个兄弟B。（兄弟）
A ~ B ，获得A元素后面的所有的兄弟B。（兄弟）
A.siblings(“div”)，A的所有是div的兄弟
```

- 案例


```javascript
<script type="text/javascript">
    $(document).ready(function() {
    //<input type="button" value="选择 body内的所有div元素." id="btn1"/>
    $("#btn1").click(function() {
        $("body div").css("background-color", "red");
    });
    //<input type="button" value="在body内,选择子元素是div的。" id="btn2"/>
    $("#btn2").click(function() {
        $("body > div").css("background-color", "yellow");
    });
    //<input type="button" value="选择 id为one 的下一个div元素." id="btn3"/>
    $("#btn3").click(function() {
        $("#one + div").css("background-color", "blue");
    });
    //<input type="button" value="选择 id为two的元素后面的所有div兄弟元素." id="btn4"/>
    $("#btn4").click(function() {
        $("#two ~ div").css("background-color", "green");
    });
    //<input type="button" value="选择 id为two的元素的所有div兄弟元素." id="btn5"/>
    $("#btn5").click(function() {
        $("#two").siblings("div").css("background-color", "brown");
    });
});
</script>
```

案例：鼠标移上当前的li高量

```javascript
<ul id="uu">
    <li>第一个</li>
    <li>第二个</li>
    <li>第三个</li>
    <li>第四个</li>
    <li>第五个</li>
</ul>

<script>
    //获取列表中每个li,当鼠标进入后,当前的li有高亮显示,点击的时候可以让当前被点击的li的字体变大,字体的颜色改变,改变字体
    $(function () {
    $("#uu>li").mouseover(function () {
        $(this).css("backgroundColor","red").siblings("li").css("backgroundColor","");
    }).click(function () {
        $(this).css("fontSize","50px").css("color","green").css("fontFamily","全新硬笔行书简");
    });
});
</script>
```

案例：精品服饰

```javascript
/*鼠标移动到对应左右的li上让中间的ul切换显示图片*/
<div class="wrapper">
    <ul id="left">
        <li><a href="#">女靴</a></li>
        <li><a href="#">雪地靴</a></li>
        <li><a href="#">冬裙</a></li>
        <li><a href="#">呢大衣</a></li>
        <li><a href="#">毛衣</a></li>
        <li><a href="#">棉服</a></li>
        <li><a href="#">女裤</a></li>
        <li><a href="#">羽绒服</a></li>
        <li><a href="#">牛仔裤</a></li>
    </ul>
    <ul id="center">
        <li><a href="#"><img src="images/女靴.jpg" width="200" height="250"/></a></li>
        <li><a href="#"><img src="images/雪地靴.jpg" width="200" height="250"/></a></li>
        <li><a href="#"><img src="images/冬裙.jpg" width="200" height="250"/></a></li>
        <li><a href="#"><img src="images/呢大衣.jpg" width="200" height="250"/></a></li>
        <li><a href="#"><img src="images/毛衣.jpg" width="200" height="250"/></a></li>
        <li><a href="#"><img src="images/棉服.jpg" width="200" height="250"/></a></li>
        <li><a href="#"><img src="images/女裤.jpg" width="200" height="250"/></a></li>
        <li><a href="#"><img src="images/羽绒服.jpg" width="200" height="250"/></a></li>
        <li><a href="#"><img src="images/牛仔裤.jpg" width="200" height="250"/></a></li>
        <li><a href="#"><img src="images/女包.jpg" width="200" height="250"/></a></li>
        <li><a href="#"><img src="images/男包.jpg" width="200" height="250"/></a></li>
        <li><a href="#"><img src="images/登山鞋.jpg" width="200" height="250"/></a></li>
        <li><a href="#"><img src="images/皮带.jpg" width="200" height="250"/></a></li>
        <li><a href="#"><img src="images/围巾.jpg" width="200" height="250"/></a></li>
        <li><a href="#"><img src="images/皮衣.jpg" width="200" height="250"/></a></li>
        <li><a href="#"><img src="images/男毛衣.jpg" width="200" height="250"/></a></li>
        <li><a href="#"><img src="images/男棉服.jpg" width="200" height="250"/></a></li>
        <li><a href="#"><img src="images/男靴.jpg" width="200" height="250"/></a></li>
    </ul>
    <ul id="right">
        <li><a href="#">女包</a></li>
        <li><a href="#">男包</a></li>
        <li><a href="#">登山鞋</a></li>
        <li><a href="#">皮带</a></li>
        <li><a href="#">围巾</a></li>
        <li><a href="#">皮衣</a></li>
        <li><a href="#">男毛衣</a></li>
        <li><a href="#">男棉服</a></li>
        <li><a href="#">男靴</a></li>
    </ul>


    <p></p>
    <span></span>
    <span></span>
    <p></p>
    <span></span>
</div>

<style type="text/css">
    * {
    margin: 0;
    padding: 0;
    font-size: 12px;
}

ul {
    list-style: none;
}

a {
    text-decoration: none;
}

.wrapper {
    width: 298px;
    height: 248px;
    margin: 100px auto 0;
    border: 1px solid pink;
    overflow: hidden;
}

#left, #center, #right {
	float: left;
}

#left li, #right li {
	background: url(images/lili.jpg) repeat-x;
}

#left li a, #right li a {
    display: block;
    width: 48px;
    height: 27px;
    border-bottom: 1px solid pink;
    line-height: 27px;
    text-align: center;
    color: black;
}

#left li a:hover, #right li a:hover {
	background-image: url(images/abg.gif);
}

#center {
    border-left: 1px solid pink;
    border-right: 1px solid pink;
}
</style>


<script>
   $(function () {
        //获取左侧的列表中的li注册鼠标进入的事件
        $("#left>li").mouseover(function () {
            //获取当前的li的索引值.index()方法
            var index=$(this).index();
            $("#center>li:eq("+index+")").siblings("li").hide();
            $("#center>li:eq("+index+")").show();
        });
        //获取右侧的列表中的li注册鼠标进入的事件
        $("#right>li").mouseover(function () {
            var index=$(this).index()+9;
            $("#center>li:eq("+index+")").siblings("li").hide();
            $("#center>li:eq("+index+")").show();
        });
    });
</script>
```

### 2.3 jQuery基本过滤选择器

```
过滤选择器都是带冒号
:first		 第一个
:last		 最后一个
:eq(index)    获得指定索引
:gt(index)    大于
:lt(index)    小于
:animated     获得所有动画
:not(selector) 去除所有与给定选择器匹配的元素
:focus	    获得焦点
------------------------------
:header     获得所有标题元素。例如：<h1>...<h6>
:even      偶数，从 0 开始计数。例如：查找表格的1、3、5...行（即索引值0、2、4...）
:odd       奇数
```

```javascript
<script type="text/javascript">
    $(document).ready(function() {
    //<input type="button" value="选择第一个div元素." id="btn1"/>
    $("#btn1").click(function() {
        $("div:first").css("background-color", "red");
    });
    //<input type="button" value="选择最后一个div元素." id="btn2"/>
    $("#btn2").click(function() {
        $("div:last").css("background-color", "yellow");
    });
    //<input type="button" value="选择class不为one的 所有div元素." id="btn3"/>
    $("#btn3").click(function() {
        $("div:not('.one')").css("background-color", "blue");
    });
    //<input type="button" value="选择索引值为偶数 的div元素." id="btn4"/>
    $("#btn4").click(function() {
        $("div:even").css("background-color", "brown");
    });
    //<input type="button" value="选择索引值为奇数 的div元素." id="btn5"/>
    $("#btn5").click(function() {
        $("div:odd").css("background-color", "yellow");
    });
    //<input type="button" value="选择索引值等于3的元素." id="btn6"/>
    $("#btn6").click(function() {
        $("div:eq(3)").css("background-color", "blue");
    });
    //<input type="button" value="选择索引值大于3的元素." id="btn7"/>
    $("#btn7").click(function() {
        $("div:gt(3)").css("background-color", "red");
    });
    //<input type="button" value="选择索引值小于3的元素." id="btn8"/>
    $("#btn8").click(function() {
        $("div:lt(3)").css("background-color", "green");
    });
    //<input type="button" value="选择所有的标题元素." id="btn9"/>
    $("#btn9").click(function() {
        $(":header").css("background-color", "green").css("font-size","30px");
    });
    //<input type="button" value="选择当前正在执行动画的所有元素." id="btn10"/>
    $("#btn10").click(function() {
        $(":animated").css("background-color", "green");
    });
});
</script>
```

### 2.4 jQuery内容过滤选择器

```html
:empty  当前元素是否为空（是否有标签体--子元素、文本）
:has(...)  当前元素，是否含有指定的子元素
:parent	当前元素是否是父元素（自己是否拥有子元素）
:contains( text ) 标签体是否含有指定的文本
```

案例：

```javascript
<script type="text/javascript">
    $(document).ready(function(){
    //<input type="button" value="选取含有文本“di”的div元素." id="btn1"/>
    $("#btn1").click(function(){
        $("div:contains('di')").css("background-color","red");
    });
    //<input type="button" value="选取不包含子元素(或者文本元素)的div空元素." id="btn2"/>
    $("#btn2").click(function(){
        $("div:empty").css("background-color","yellow");
    });
    //<input type="button" value="选取含有class为mini元素 的div元素." id="btn3"/>
    $("#btn3").click(function(){
        $("div:has('.mini')").css("background-color","blue");
    });
    //<input type="button" value="选取含有子元素(或者文本元素)的div元素." id="btn4"/>
    $("#btn4").click(function(){
        $("div:parent").css("background-color","green");
    });
});
</script>
```

### 2.5 jQuery可见性过滤选择器

```
:hidden	    隐藏。特指 <xxx style="display:none;">  ，或者 <input type="hidden">
:visible	可见（默认）
```

案例：

```javascript
<script type="text/javascript">
$(document).ready(function(){
    //<input type="button" value=" 选取所有可见的div元素"  id="b1"/>
    $("#b1").click(function(){
        $("div:visible").css("background-color","red");
    });  
    //<input type="button" value=" 选取所有不可见的元素, 利用 jQuery 中的 show() 方法将它们显示出来"  id="b2"/>
    $("#b2").click(function(){
        $("div:hidden").show(1000).css("background-color","yellow");
    });  
    //<input type="button" value=" 选取所有的文本隐藏域, 并打印它们的值"  id="b3"/>
    $("#b3").click(function(){
        //这种方式只能打印第一个的值
        //alert($("input:hidden").val());

        //使用each遍历所有的隐藏域
        $("input:hidden").each(function(){
            alert($(this).val());
        });
    }); 
    //<input type="button" value=" 选取所有的文本隐藏域, 并打印它们的值"  id="b4"/>
    $("#b4").click(function(){
        //使用each全局函数进行遍历
        /*
	  		*function(index,domEle)
	  		*第一个参数 ：遍历的索引
	  		*第二个参数：遍历的元素
	  		*/
        $.each($("input:hidden"),function(index,domEle){
            alert($(this).val());
        });
    }); 
});  
</script>
```

### 2.6 jQuery属性选择器

```
[属性名]				 获得指定的属性名的元素
[属性名=值]			    获得属性名 等于 指定值的 的元素【1】
[属性名!=值]			获得属性名 不等于 指定值的 的元素
[as1][as2][as3]....		复合选择器，多个条件同时成立。类似 where ...and...and【2】
[属性名^=值]			获得以属性值 开头 的元素
[属性名$=值]			获得以属性值 结尾 的元素
[属性名*=值]			获得 含有属性值  的元素
```

案例

```javascript
<script type="text/javascript">
$(document).ready(function(){
    //<input type="button" value="选取含有 属性title 的div元素." id="btn1"/>
    $("#btn1").click(function(){
        $("div[title]").css("background-color","red");
    });
    //<input type="button" value="选取 属性title值等于“test”的div元素." id="btn2"/>
    $("#btn2").click(function(){
        $("div[title='test']").css("background-color","blue");
    });
    //<input type="button" value="选取 属性title值不等于“test”的div元素(没有属性title的也将被选中)." id="btn3"/>
    $("#btn3").click(function(){
        $("div[title!='test']").css("background-color","yellow");
    });
    //<input type="button" value="选取 属性title值 以“te”开始 的div元素." id="btn4"/>
    $("#btn4").click(function(){
        $("div[title^='te']").css("background-color","green");
    });
    //<input type="button" value="选取 属性title值 以“est”结束 的div元素." id="btn5"/>
    $("#btn5").click(function(){
        $("div[title$='est']").css("background-color","brown");
    });
    //<input type="button" value="选取 属性title值 含有“es”的div元素." id="btn6"/>
    $("#btn6").click(function(){
        $("div[title*='es']").css("background-color","yellow");
    });
    //<input type="button" value="组合属性选择器,首先选取有属性id的div元素，然后在结果中 选取属性title值 含有“es”的元素." id="btn7"/>
    $("#btn7").click(function(){
        $("div[id][title*='es']").css("background-color","red");
    });
});
</script>
```

### 2.7 jQuery元素过滤选择器

```
:nth-child     第几个孩子
:first-child   第一个孩子
:last-child    最后一个孩子
:only-child    仅有一个孩子
```

### 2.8 jQuery表单过滤选择器

```javascript
:input           所有的表单元素。（<input> / <select> / <textarea> / <button>）
:text			文本框<input type="text">
:password		密码框<input type=" password ">
:radio			单选<input type="radio">
:checkbox		复选框<input type="checkbox">
:submit			提交按钮<input type="submit">
:image			图片按钮<input type="image" src="">
:reset			重置按钮<input type="reset">
:file			文件上传<input type="file">
:hidden			隐藏域<input type="hidden">  ,还可以获得<xxx style="display:none"> 
:button			所有普通按钮。 <button >  或 <input type="button">
select           下拉列表  （没有:号）
textarea         多行文本框（没有:号）
```

案例：

```javascript
var $alltext = $("#form1 :text");
var $allpassword= $("#form1 :password");
var $allradio= $("#form1 :radio");
var $allcheckbox= $("#form1 :checkbox");

var $allsubmit= $("#form1 :submit");
var $allimage= $("#form1 :image");
var $allreset= $("#form1 :reset");
var $allbutton= $("#form1 :button"); // <input type=button />  和 <button ></button>都可以匹配
var $allfile= $("#form1 :file");
var $allhidden= $("#form1 :hidden"); // <input type="hidden" />和<div style="display:none">test</div>都可以匹配.
var $allselect = $("#form1 select");
var $alltextarea = $("#form1 textarea");

var $allInputs = $("#form1 :input");
var $inputs = $("#form1 input");

$("div").append(" 有" + $alltext.length + " 个（ :text 元素）<br/>")
    .append(" 有" + $allpassword.length + " 个（ :password 元素）<br/>")
    .append(" 有" + $allradio.length + " 个（ :radio 元素）<br/>")
    .append(" 有" + $allcheckbox.length + " 个（ :checkbox 元素）<br/>")
    .append(" 有" + $allsubmit.length + " 个（ :submit 元素）<br/>")
    .append(" 有" + $allimage.length + " 个（ :image 元素）<br/>")
    .append(" 有" + $allreset.length + " 个（ :reset 元素）<br/>")
    .append(" 有" + $allbutton.length + " 个（ :button 元素）<br/>")
    .append(" 有" + $allfile.length + " 个（ :file 元素）<br/>")
    .append(" 有" + $allhidden.length + " 个（ :hidden 元素）<br/>")
    .append(" 有" + $allselect.length + " 个（ select 元素）<br/>")
    .append(" 有" + $alltextarea.length + " 个（ textarea 元素）<br/>")
    .append(" 表单有 " + $inputs.length + " 个（input）元素。<br/>")
    .append(" 总共有 " + $allInputs.length + " 个(:input)元素。<br/>")
    .css("color", "red")

//显示所有的隐藏标签名称
$allhidden.each(function(){
    $("div").append("<br/>").append($(this).get(0).nodeName);
});
```

### 2.9 jQuery表单对象属性过滤选择器

```javascript
:enabled		可用
:disabled		不可用。<xxx disabled="disabled"> 或<xxx disabled="">  或  <xxx disabled>
:checked		选中（单选框radio、复选框 checkbox）
:selected		选择（下拉列表 select option）
```

案例：

```javascript
<script type="text/javascript">
    $(document).ready(function(){
    //<button id="btn1">对表单内 可用input 赋值操作.</button>
    $("#btn1").click(function(){
        $("input:enabled").val("aaaa");
    });
    //<button id="btn2">对表单内 不可用input 赋值操作.</button>
    $("#btn2").click(function(){
        $("input:disabled").val("bbbb");
    });
    //<button id="btn3">获取多选框选中的个数.</button>
    $("#btn3").click(function(){
        alert($(":checkbox[name='newsletter']:checked").length);
    });
    //<button id="btn4">获取下拉框选中的内容.</button>
    $("#btn4").click(function(){
        //注意：此处：前面空格不能漏掉
        $("select :selected").each(function(){
            $("#selectDivId").append($(this).val());
        });
    });
});
</script>
```

## 3. jQuery属性和CSS

### 3.1 属性操作

#### 3.1.1 attr操作

- 设置单个属性

```javascript
// 第一个参数：需要设置的属性名
// 第二个参数：对应的属性值
$obj.attr(name, value);
// 用法举例
$('img').attr('title','哎哟，不错哦');
$('img').attr('alt','哎哟，不错哦');
```

- 设置多个属性

```javascript
// 参数是一个对象，包含了需要设置的属性名和属性值
$obj.attr(obj)
// 用法举例
$('img').attr({
    title:'哎哟，不错哦',
    alt:'哎哟，不错哦',
    style:'opacity:.5'
});
```

- 获取属性

```javascript
// 传需要获取的属性名称，返回对应的属性值
$obj.attr(name)
// 用法举例
var oTitle = $('img').attr('title');
alert(oTitle);
```

- 移除属性

```javascript
// 参数：需要移除的属性名，
$obj.removeAttr(name);
// 用法举例
$('img').removeAttr('title');
```

#### 3.1.2 prop操作

- 在jQuery1.6之后，对于checked、selected、disabled这类boolean类型的属性来说，不能用attr方法，只能用prop方法。

```javascript
// 设置属性
$(':checked').prop('checked',true);
// 获取属性
$(':checked').prop('checked');// 返回true或者false
```

```
<input id="chk1" type="checkbox" />是否可见
<input id="chk2" type="checkbox" checked="checked" />是否可见

$("#chk1").prop("checked") == false
$("#chk2").prop("checked") == true

$("#chk1").attr("checked") == undefined
$("#chk2").attr("checked") == "checked"
```

案例：全选全不选

```javascript
<input type="button" value="全选" id="btnAll"/>
<input type="button" value="全不选" id="btnNoAll"/>
<div id="dv">
    <input type="checkbox" value="1"/>吃饭
    <input type="checkbox" value="2"/>睡觉
    <input type="checkbox" value="3"/>打豆豆
    <input type="checkbox" value="4"/>打篮球
    <input type="checkbox" value="5"/>打足球
    <input type="checkbox" value="6"/>打铅球
    <input type="checkbox" value="7"/>打桌球
</div>

<script>
    //两个按钮:1按钮全选,2全不选
    $(function () {
        //获取第一个按钮,点击---全选
        $("#btnAll").click(function () {
            $("#dv :checkbox").prop("checked",true);
        });
        //获取第二个按钮,点击---全不选
        $("#btnNoAll").click(function () {
            $("#dv :checkbox").prop("checked",false);
        });
    });
</script>
```

#### 3.1.3 val()/text/()html()

```javascript
$obj.val()		获取或者设置表单元素的value属性的值
$obj.html() 	对应innerHTML
$obj.text()		对应innerText/textContent，处理了浏览器的兼容性。注意点：如果获取jquery对象text属性的时候jquery对象是一个数组，那么此时会把数组中所有元素的文本都获取到
				<  &lt;    &  &amp;    >  &lt;      &nbsp;
```

```javascript
//使用未满18岁文本测试text  html
alert($("div").text());     //获取文本值，将标签过滤
alert($("div").html());     //获取网页内容，包含html标签
			
$("div").text("<a>你好啊</a>");   
$("div").html("<a>你好啊</a>");   //解析<a>标签
```


### 3.2 CSS操作

#### 3.2.1 CSS样式操作

```javascript
//<xxx style="key:value; key:value; ">

css(name)  获得指定名称的css值
css(name ,value) 设置一对值
css(prop) 设置一组值
```

- 功能：设置或者修改样式，操作的是style属性。
- 操作单个样式

```javascript
//给未满18岁添加样式
$("div").css("border","1px solid red");
```

- 设置多个样式

```javascript
//给未满18岁添加样式
$("div").css({
    "width":"300px",
    "height":"50px",
    "font-size":"60px",
    "color":"blue"
});
```

- 获取样式

```javascript
// 案例
$('div').css('background-color');

注意点:
//1. 设置样式操作的时候，如果是多个元素，那么给所有的元素设置相同的值
//2. 获取样式操作的时候，如果是多个元素，那么只会返回第一个元素的值。
```

#### 3.2.2 CLASS类操作

```javascript
<xxx class="a">

addClass("my")     追加一个类
removeClass("my")  将指定类移除
toggleClass("my")  如果有my将移除，如果没有将添加。
hasClass("my")     用于判断是否含有指定样式，返回值为true false

// 例子，判断第一个div是否有one的样式类
$('div').hasClass('one');
```

```javascript
$("button[type='button']").click(function(){
	$("[name='username']").toggleClass("textClass");
});
```


## 4. jQuery尺寸和位置操作

### 4.1 css尺寸

```javascript
height() 获得 或 设置 高度    //不包括内边距、边框和外边距
width()获得 或 设置 宽度
```

```javascript
//修改未满18岁的高度
$("div").css("border","1px solid red");
alert($("div").height()); //数字类型
alert($("div").width());
$("div").height("100px"); //设置高度，值可以是数字也可以是字符串

// 获取可视区宽度
$(window).width();
// 获取可视区高度
$(window).height();

//css获取到的宽高是带 px 的
var width=parseInt($("#dv").css("width"));
var height=parseInt($("#dv").css("height"))*2;

//css设置样式也需要带px
$("#dv").css("width",width+"px");
$("#dv").css("height",height+"px");
```

### 4.2 innerWidth/outerWidth

```javascript
innerWidth()/innerHeight()	方法返回元素的宽度/高度（包括内边距）。 --->clientWidth
outerWidth()/outerHeight()  方法返回元素的宽度/高度（包括内边距和边框）。 --->offsetWidth
outerWidth(true)/outerHeight(true)  方法返回元素的宽度/高度（包括内边距、边框和外边距）。
```

### 4.3 scrollTop与scrollLeft

- 设置或者获取垂直滚动条的位置

```javascript
// 获取页面被卷曲的高度
$(window).scrollTop();
// 获取页面被卷曲的宽度
$(window).scrollLeft();
```

案例：固定导航栏

```javascript
<div class="top">
    <img src="images/top.png" />
</div>
<div class="nav">
    <img src="images/nav.png" />
</div>
<div class="main">
    <img src="images/main.png" />
</div>


<style type="text/css">
    * {
        margin: 0;
        padding: 0;
    }

    .main {
        width: 1000px;
        margin: 0 auto;
    }
</style>


<script>
    $(function () {
    //滚动条事件
    $(document).scroll(function () {
        //判断向上卷曲出去的距离是否大于等于 应用类样式top的div的高度
        if($(document).scrollTop()>=$(".top").height()){
            //获取导航栏的元素 .nav 脱离文档流
            $(".nav").css("position","fixed").css("top",0);
            $(".main").css("marginTop",$(".nav").height());

        }else{
            $(".nav").css("position","static");
            $(".main").css("marginTop",0);
        }
    });
});
</script>
```

### 4.4 offset方法与position方法

```javascript
## 1.offset方法获取元素距离document的位置
```

![](media\a2.png)

```javascript
##2.position方法获取的是元素距离第一个定位了的父元素(offsetParent)的位置。
```

```javascript
// 获取元素距离document的位置,返回值为对象：{left:100, top:100}
$(selector).offset();

// offset使用
alert(JSON.stringify($("div").offset()));
$("div").offset({"top":0,"left":0});
//注意：此处不需要px

// 获取相对于其最近的有定位的父元素的位置。
// 这边position仅用于获取当前元素相对于父元素的位置，不可以设置。如果非要设置，需要引入jquery-ui.js
$(selector).position();
```

## 5. jQuery文档处理

### 5.1 创建节点

```javascript
// $(htmlStr)   htmlStr：html格式的字符串
$('<span>这是一个span元素</span>');
```

### 5.2 内部插入

```javascript
A.append(B)  将B插入到A的内部后面（之后的串联操作，操作A）
	<A>
		....
		<B></B>
	<A>
	
A.prepend(B) 将B插入到A的内部前面
	<A>
		<B></B>
		....
	<A>
		
--------------------------------------------(下面了解)
A.appendTo(B) 将A插入到B的内部后面 （之后的串联操作，操作A）
	<B>
   	 	 ....
		<A></A>
	<B>

A.prependTo(B) 将A插入到B的内部前面
	<B>
		<A></A>
		....
	<B>
```

```javascript
//1.将天津分别插入到love内部的后面
 $("#love").append($("#tj")) ;
 $("#tj").appendTo($("#love"));
			 
//2.将天津分别插入到love内部的前面
$("#love").prepend($("#tj")) ;
$("#tj").prependTo($("#love"));
```

### 5.3 外部插入

```javascript
A.insertAfter(B) , 将A插入到B后面（同级）
	<B></B>
	<A></A>
A.insertBefore(B) 将A插入到B前面
	<A></A>
	<B></B>

-----------------------------------(下面了解)
A.after(B)  , 将B插入到A后面（同级）
	<A></A>
	<B></B>
A.before(B) ，将B插入到A前面
	<B></B>
	<A></A>
```

```javascript
//将city分别插入到p2的前面和后面
<script type="text/javascript">
    var $city = $("#city");
	var $p2 = $("#p2");
	$city.after($p2);
	$city.before($p2);
</script>
```

### 5.4 删除节点

```javascript
empty()  清空标签体（清空文本节点和子节点）,自身保留(清理门户),会清除子元素上绑定的内容
remove() 删除当前对象。如果之后再使用，元素本身保留，绑定事件 或 绑定数据 都会被移除
detach() 删除当前对象。如果之后再使用，元素本身保留，绑定事件 或 绑定数据 都保留

$('div').html('');// 使用html方法来清空元素，不推荐使用，会造成内存泄漏，绑定的事件不会被清除。
```

```javascript
//先将city移除，再拼接到body里最后
<script type="text/javascript">
    //1.获取city元素
	var $city = $("#city");
	//2.给city元素绑定事件
	$city.click(function(){
		alert("哈哈");
	});
	//3.给city元素绑定数据
	$city.data("天空","就是蓝");
	
	//4.移除city
	//移除city,使用remove方法之后，city对象绑定的事件和数据都没有了
	//$city.remove();
	//移除city，使用detach方法之后，city对象绑定的事件和数据还存在
	$city.detach();
	
	alert($city.data("天空"));
	//5.将city拼接到body后面
	$("body").append($city);
</script>

//注意：这里面用到了数据的绑定，使用方式如下
	//data(name) 获得锁绑定的数据
	//data(name,value) 设置要绑定的数据
```

### 5.5 复制节点

```
clone(even) 克隆
	even ：指示事件处理函数是否会被复制。V1.5以上版本默认值是：false
```

```javascript
//点击按钮，将按钮本身复制一份，追加到body中
<script type="text/javascript">
	$(".save").click(function(){
		$("body").append($(this).clone(true));
	});
</script>
```

### 5.6 替换节点

```
A.replaceWith(B) ，使用B将A替换掉
A.replaceAll(B) ，使用A替换B
```

```javascript
//使用指定内容替换掉p标签
<script type="text/javascript">
	//$("p").replaceWith("<a>xxxx</a>");
	$("<a>ssss</a>").replaceAll("p");
</script>
```

### 5.7 案例

1.左右select

```javascript
//需求：点击1个箭头按钮，把选中的第一个option移到右侧
//      点击2个箭头的按钮，把所有选中的option移到右侧
//      点击3个箭头的按钮，把所有的option移到右侧
<script type="text/javascript">
    $(document).ready(function(){
    $("#left1").click(function(){
        $("#leftSelectId option:selected:first").appendTo($("#rightSelectId"));
        //去除选中状态
        $("select option:selected").each(function(){
            $(this).prop("selected",false);
        });
    });
    $("#left2").click(function(){
        $("#leftSelectId option:selected").appendTo($("#rightSelectId"));
    });
    $("#left3").click(function(){
        $("#leftSelectId option").appendTo("#rightSelectId");
    });

    $("#right1").click(function(){
        $("#rightSelectId option:selected:first").appendTo($("#leftSelectId"));
    });
    $("#right2").click(function(){
        $("#rightSelectId option:selected").appendTo($("#leftSelectId"));
    });
    $("#right3").click(function(){
        $("#rightSelectId option").appendTo("#leftSelectId");
    });
});
</script>

//注意：在jquery中使用$(“select :selected”).removeAttr(“selected”)无法清除选中的option控件，需要通过下面方式才行：
//$("select :selected").prop("selected",false);
```

案例2：动态创建表格

```javascript
<input type="button" value="获取数据" id="btnCreate"/>
<div>
    <table>
        <thead>
        <tr>
            <th>名称</th>
            <th>说明</th>
        </tr>
        </thead>
        <tbody id="tbd">
        </tbody>
    </table>
</div>

<style>
    * {
      padding: 0;
      margin: 0;
    }

    div {
        margin-left: 300px;
        margin-top: 100px;
    }

    table {
        border-collapse: collapse;
        border-spacing: 0;
        border: 1px solid #c0c0c0;
    }

	th,
    td {
        border: 1px solid #d0d0d0;
        color: #404060;
        padding: 10px;
    }

    th {
        background-color: #09c;
        font: bold 16px "微软雅黑";
        color: #fff;
    }

    td {
        font: 14px "微软雅黑";
    }

    tbody tr {
        background-color: #f0f0f0;
    }

    tbody tr:hover {
        cursor: pointer;
        background-color: #fafafa;
    }
</style>

<script>
    // 模拟从后台拿到的数据
    var datas = [
        {
            name: "芙蓉姐姐",
            url: "http://www.360doc.com/content/18/0326/18/44232639_740385433.shtml",
            type: "大美女"
        },
        {
            name: "柳岩",
            url: "https://baike.baidu.com/item/%E6%9F%B3%E5%B2%A9/9476597?fr=aladdin",
            type: "大大美女"
        },
        {
            name: "范冰冰",
            url: "http://www.360doc.com/content/18/0827/14/27053206_781579849.shtml",
            type: "呵呵了"
        }];

	   //1.页面加载后,点击按钮,遍历数组,获取数组中的元素内容,创建行和列,加入到表格中的tbody中
        $(function () {
            $("#btnCreate").click(function () {
                //遍历数组
                for(var i=0;i<datas.length;i++){
                    var obj=datas[i];//数组中的每一个对象
                    //创建行和列,加入到tbody中
                    $("<tr><td><a href="+obj.url+">"+obj.name+"</a></td>      <td>"+obj.type+"</td></tr>").appendTo($("#tbd"));
                }
            });
        });

		//2.将表格行和列的信息放入到数组，再讲数组信息追加到表格中
        $(function () {
            $("#btnCreate").click(function () {
                var arr=[];
                //遍历数组
                for(var i=0;i<datas.length;i++){
                    var obj=datas[i];//数组中的每一个对象
                    //创建行和列,加入到tbody中
                    arr.push("<tr><td><a href="+obj.url+">"+obj.name+"</a></td>      <td>"+obj.type+"</td></tr>");
                }
                $("#tbd").html(arr.join(""));
            });
        });
</script>
```


## 6. jQuery筛选选择器(方法)

	筛选选择器的功能与过滤选择器有点类似，但是用法不一样，筛选选择器主要是方法。

```javascript
$("div:first")	    直接获得第一个div （永远只能操作第一个）
$("div").first()	先获得所有的div，从所有的中筛选出第一个。 （可以操作第一个，也可以操作所有）
```

### 6.1 过滤

```javascript
eq(index | -index)  类型 :eq()
	index：正数，从头开始获得指定索引的元素。这个元素的位置是从0算起。0表示第一个
	-index：负数，从尾开始获得指定索引的元素。-1算起， -1表示最后一个，之前分别是-2，-3…..
first()	     第一个  :first
last()	     最后一个  :last
is()		 判断
hasClass()	 判断是否是指定class 。返回值true和false  <xxx class="my">
filter()     筛选出与指定表达式匹配的元素集合
not()      	 将指定内容删除
--------------------------------
has()        子元素是否有，返回父元素
slice(start , end)  截取元素 ，(2,4)  --> 2,3
```

```javascript
<script type="text/javascript">
    $(document).ready(function(){
    //<input type="button" value=" 选择索引值等于3的元素"  id="b1"/>
    $("#b1").click(function(){
        //$("div").eq(3).css("background-color","red");
        $("div").eq(-3).css("background-color","red").show();
    });
    //<input type="button" value=" 选择第一个div元素"  id="b2"/>
    $("#b2").click(function(){
        $("div").first().css("background-color","red");
    });
    //<input type="button" value=" 选择最后一个div元素"  id="b3"/>
    $("#b3").click(function(){
        $("div").last().css("background-color","red").show();
    });
    //<input type="button" value=" id=one div样式是否是one"  id="b4"/>
    $("#b4").click(function(){
        //alert($("div#one").hasClass("one"));
        $("div#one.one").css("background-color","red");
    });
    //<input type="button" value=" 选择class为none的所有div"  id="b5"/>
    $("#b5").click(function(){
        //$("div.none").css("background-color","red").show();
        $("div").filter(".none").css("background-color","red").show();
    });
    //<input type="button" value=" 样式为hide div 下一个兄弟是否是span"  id="b6"/>
    $("#b6").click(function(){
        //alert($("div.hide+").is("span"));
        alert($("div.hide").next().is("span"));
    });
    //<input type="button" value=" 选择所有div中含有div的"  id="b7"/>
    $("#b7").click(function(){
        //$("div:has(div)").css("background-color","red");
        $("div").has("div").css("background-color","red");
    });
    //<input type="button" value=" 选择样式为one div 子元素中没有title属性的div(子元素div)"  id="b8"/>
    $("#b8").click(function(){
        //$("div.one :not([title])").css("background-color","red");			$("div.one").children().not("[title]").css("background-color","red");
    });
    //<input type="button" value=" 选择索引号为3,4的div"  id="b9"/>
    $("#b9").click(function(){
        //$("div:gt(2):lt(2)").css("background-color","red");
        $("div").slice(3,5).css("background-color","red");
    });
});
```

案例：文本框获得和失去焦点

```javascript
<script type="text/javascript">
    $(document).ready(function() {
    //方式一：使用focus和blur方法
    /*$("input[type='text']").focus(function(){
		  	$(this).val("获取焦点");
		  }).blur(function(){
		    $(this).val("失去焦点");
		  }); */

    //方式二：使用on方法
    $("input[type='text']").on("focus blur",
        function(){
            if($(this).is(":focus")){
                $(this).val("得到焦点");
            }
            else{
                $(this).val("失去焦点");
            }
        });	
    });
</script>
```

### 6.1 查找

```javascript
<A>
	<B>
		<C></C>
		<D></D>
		<E></E>
		<F></F>
	</B>
</A>

B.children([...])   获得所有的子元素。CDEF
A.find(D)         从指定的区域查询指定元素。D
D.next()	     下一个兄弟。E
D.nextAll()       后面的所有兄弟。EF
E.prev()	     上一个兄弟。D  （previous）
E.prevAll()       前面的所有兄弟。CD
E.siblings()	  所有兄弟。CDF
E.parent()        父元素。B
E.closest(A)      向上获得指定的父元素（含自己），如果获得返回一个对象，如果没有没有对象。
E.parents()       获得所有的父元素。AB
```

```javascript
<script type="text/javascript">
    $(document).ready(function() {
    // 		<input type="button" value=" 选择 id=two 所有子元素"  id="b1"/>
    $("#b1").click(function() {
        //alert($("#two *").length);
        $("#two").children().css("background-color","red");
    });
    // 		<input type="button" value=" 选择 id=two 子元素title=other 元素 "  id="b2"/>
    $("#b2").click(function() {
        //$("#two>[title='other']").css("background-color","red");
        $("#two").children("[title='other']").css("background-color","red");
    });
    // 		<input type="button" value=" 选择 id=two 下一个兄弟"  id="b3"/>
    $("#b3").click(function() {
        //$("#two+").css("background-color","red");
        $("#two").next().css("background-color","red");
    });
    // 		<input type="button" value=" 选择 id=two 后面的所有兄弟"  id="b4"/>
    $("#b4").click(function() {
        $("#two").nextAll().css("background-color","red");
    });
    // 		<input type="button" value=" 选择 id=two 上一个兄弟"  id="b5"/>
    $("#b5").click(function() {
        $("#two").prev().css("background-color","red");
    });
    // 		<input type="button" value=" 选择 id=two 前面的所有兄弟"  id="b6"/>
    $("#b6").click(function() {
        $("#two").prevAll().css("background-color","red");
    });
    // 		<input type="button" value=" 选择 id=two 所有兄弟"  id="b7"/>
    $("#b7").click(function() {
        $("#two").siblings().css("background-color","red");
    });
    // 		<input type="button" value=" 选择 id=two 父元素"  id="b8"/>
    $("#b8").click(function() {
        $("#two").parent().css("background-color","red");
    });
});
</script>
```

案例：QQ分组

```javascript
<script type="text/javascript">
    $(document).ready(function(){
    //开始所有的a标签默认隐藏
    $("div").children("a").hide().prev("span").click(function(){
        //1.切换隐藏显示
        if($(this).nextAll().is(":hidden")){
            $(this).nextAll().show();
        }
        else{
            $(this).nextAll().hide();
        }

        //2.点击当前展开当前，自动关闭其他
        //$(this).nextAll().show().parent().siblings("div").children("a").hide();
    });
});
</script>
```

案例：突出显示

```javascript
<div class="wrap">
    <ul>
        <li><a href="#"><img src="images/01.jpg" alt=""/></a></li>
        <li><a href="#"><img src="images/02.jpg" alt=""/></a></li>
        <li><a href="#"><img src="images/03.jpg" alt=""/></a></li>
        <li><a href="#"><img src="images/04.jpg" alt=""/></a></li>
        <li><a href="#"><img src="images/05.jpg" alt=""/></a></li>
        <li><a href="#"><img src="images/06.jpg" alt=""/></a></li>
    </ul>
</div>

<style type="text/css">
    * {
    margin: 0;
    padding: 0;
}

ul {
    list-style: none;
}

body {
    background: #000;
}

.wrap {
    margin: 100px auto 0;
    width: 630px;
    height: 394px;
    padding: 10px 0 0 10px;
    background: #000;
    overflow: hidden;
    border: 1px solid #fff;
}

.wrap li {
    float: left;
    margin: 0 10px 10px 0;

}

.wrap img {
    display: block;
    border: 0;
}
</style>


<script>
    $(function () {
        //鼠标进入的时候,当前的li的透明度为1,其他的li标签透明度,0.5
        $(".wrap>ul>li").mouseover(function () {
            //当前的li的兄弟元素的透明度变暗
            $(this).siblings("li").css("opacity",0.5);
            $(this).css("opacity",1);
        });
        $(".wrap").mouseout(function () {
            //.find()方法,针对当前的元素找里面的一些其他的元素
            $(this).find("li").css("opacity",1);
        });
	});
</script>
```

案例：全选反选

```javascript
<div class="wrap">
    <table>
        <thead>
        <tr>
            <th>
                <input type="checkbox" id="j_cbAll" />
            </th>
            <th>课程名称</th>
            <th>所属学院</th>
        </tr>
        </thead>
        <tbody id="j_tb">
        <tr>
            <td>
                <input type="checkbox" />
            </td>
            <td>JavaScript</td>
            <td>计算机学院</td>
        </tr>
        <tr>
            <td>
                <input type="checkbox" />
            </td>
            <td>css</td>
            <td>计算机学院</td>
        </tr>
        <tr>
            <td>
                <input type="checkbox" />
            </td>
            <td>html</td>
            <td>计算机学院</td>
        </tr>
        <tr>
            <td>
                <input type="checkbox" />
            </td>
            <td>jQuery</td>
            <td>计算机学院</td>
        </tr>
        </tbody>
    </table>
</div>


<style>
* {
   padding: 0;
   margin: 0;
}

.wrap {
   width: 300px;
   margin: 100px auto 0;
}

table {
    border-collapse: collapse;
    border-spacing: 0;
    border: 1px solid #c0c0c0;
}

th,td {
        border: 1px solid #d0d0d0;
        color: #404060;
        padding: 10px;
    }

th {
    background-color: #09c;
    font: bold 16px "微软雅黑";
    color: #fff;
}

td {
    font: 14px "微软雅黑";
}

tbody tr {
    background-color: #f0f0f0;
}

tbody tr:hover {
    cursor: pointer;
    background-color: #fafafa;
}
</style>


<script>
    $(function () {
    //先获取j_cbAll的这个复选框,注册点击事件,点击的时候让下面tbody中所有的复选框选中和不全选
    //让tbody中所有的复选框的选中状态和当前的这个全选的复选框的选中状态一致
    $("#j_cbAll").click(function () {
        var cked=$(this).prop("checked");//保存当前复选框的选中状态
        //获取tbody中所有的复选框
        $("#j_tb").find(":checkbox").prop("checked",cked);
    });

    //获取tbody中所有的复选框
    $("#j_tb").find(":checkbox").click(function () {
        //先获取tbody中所有的复选框的个数
        var length1=$("#j_tb").find(":checkbox").length;
        //再获取tbody中所有选中的复选框的个数
        var length2=$("#j_tb").find(":checked").length;
        //二者比较,如果相同,让最上面的复选框选中,否则不选中
        if(length1==length2){
            //都选中了
            $("#j_cbAll").prop("checked",true);
        }else{
            //有没选中
            $("#j_cbAll").prop("checked",false);
        }
    });
});
</script>
```

### 6.2 串联

```javascript
A.add(B)  将A和B组合一个对象 。类似 $("A,B")
end() ：回到最近的一个操作之前
	A.children().children().end() .end()  
	A   孩子   孙子		孩子  A
-----------------------
contents()  获得所有的子节点（子元素 和 文本）
```

```javascript
<script type="text/javascript">
    $(document).ready(function() {
    // 		<input type="button" value=" 选择 id=one和two 的div"  id="b1"/>
    $("#b1").click(function(){
        //$("#one,#two").css("background-color","red");
        $("#one").add($("#two")).css("background-color","red");
    });

    // 		<input type="button" value=" 选择id=one 所有的孩子，以及one自己"  id="b2"/>
    $("#b2").click(function(){
        //$("#one>*,#one").css("background-color","red");
        $("#one").children().add("#one").css("background-color","red");
    });

    // 		<input type="button" value=" 选择id=one 所有的孩子，设置颜色为红，设置one自己为黄"  id="b3"/>
    $("#b3").click(function(){
        $("#one").children().css("background-color","red").end().css("background-color","yellow");
    });

    // 		<input type="button" value=" 获得id=two 子节点个数"  id="b4"/>
    $("#b4").click(function(){
        alert($("#two").contents().length);
    });
    //注意：这里面打印结果为5，原因有默认的换行的文本节点存在
});
</script>
```

案例：获取兄弟元素

```javascript
<ul>
    <li>青岛啤酒（TsingTao）</li>
    <li>瓦伦丁（Wurenbacher）</li>
    <li>雪花（SNOW）</li>
    <li>奥丁格教士（Franziskaner）</li>
    <li>科罗娜喜力柏龙（Paulaner）</li>
    <li>嘉士伯Kaiserdom</li>
    <li>罗斯福（Rochefort）</li>
    <li>粉象（Delirium）</li>
    <li>爱士堡（Eichbaum）</li>
    <li>哈尔滨牌蓝带</li>
</ul>

<style>
    ul {
        list-style-type: none;
        width: 200px;
        position: absolute;
        left: 500px;
    }

    ul li {
        margin-top: 10px;
        cursor: pointer;
        text-align: center;
        font-size: 20px;
    }
</style>


<script>
//获取ul中所有的li,有鼠标进入事件,鼠标离开事件,点击事件
$(function () {
    //获取ul->li
    $("ul>li").mouseenter(function () {
        $(this).css("backgroundColor","red").siblings().css("backgroundColor","");
    }).mouseleave(function () {
        $(this).css("backgroundColor","").siblings().css("backgroundColor","");
    }).click(function () {
        //当前元素前面的所有兄弟元素背景颜色为黄色
        //$(this).prevAll().css("backgroundColor","yellow");
        //当前元素后面的所有兄弟元素背景颜色为蓝色
        //$(this).nextAll().css("backgroundColor","blue");

        //链式编程代码
        //断链:对象调用方法,返回的不是当前的对象,再调用方法,调用不了,
        //解决断链--->恢复到断链之前的一个效果--修复断链
        //.end()方法恢复到断链之前的效果
        $(this).prevAll().css("backgroundColor","yellow").end().nextAll().css("backgroundColor","blue");
    });
});
</script>
```

案例：五星评分

```javascript
<ul class="comment">
    <li>☆</li>
    <li>☆</li>
    <li>☆</li>
    <li>☆</li>
    <li>☆</li>
</ul>

<style>
* {
    padding: 0;
    margin: 0;
}

.comment {
    font-size: 40px;
    color: yellow;
}

.comment li {
    float: left;
}

ul {
    list-style: none;
}
</style>
    
<script>
   $(function () {
        $(".comment>li").mouseover(function () {
            $(this).text("★").prevAll("li").text("★").end().nextAll("li").text("☆");
        }).mouseout(function () {
            $(".comment").find("li").text("☆");
            //鼠标移出的时候让所点击的li之前的所有li选中
            $(".comment>li[index=1]").text("★").prevAll("li").text("★")
        }).click(function () {
            //点击li的时候给当前li绑定一个属性值用于鼠标移出时候记录哪些li需要选中
            $(this).attr("index","1").siblings("li").removeAttr("index");
        });
   });
</script>
```

## 7. jQuery事件机制

	JavaScript中已经学习过了事件，jQuery对JavaScript事件进行了封装，增加并扩展了事件处理机制。jQuery不仅提供了更加优雅的事件处理语法，而且极大的增强了事件的处理能力。

### 7.1 jQuery事件发展历程(了解)

	简单事件绑定--bind事件绑定--delegate事件绑定--on事件绑定(推荐)

- 简单事件注册

```javascript
click(handler)			单击事件
mouseenter(handler)		鼠标进入事件
mouseleave(handler)		鼠标离开事件

$("p").click(function(){
    
})
```

- bind方式注册事件/unbind解绑事件

```javascript
// 第一个参数：事件类型
// 第二个参数：事件处理程序
$('p').bind('click mouseenter', function(){
    // 事件响应方法
});
//缺点：不支持动态事件绑定
```

```javascript
//<input id="h01" type="button" value="1只能点击一次，之后失效" />
$("#h01").one("click",function(){
	alert("点击一次");
});
//<input id="h02" type="button" value="2可以点击多次" />
$("#h02").bind("click.a",function(){
	alert("每次都是你a");
});
$("#h02").bind("click.b",function(){
	alert("每次都是你b");
});
//<input id="h03" type="button" value="3解绑2" />
	$("#h03").bind("click",function(){
	$("#h02").unbind("click.b");
});
```

- delegate注册委托事件/undelegate解除委托

```javascript
// 第一个参数：selector，要绑定事件的元素
// 第二个参数：事件类型
// 第三个参数：事件处理函数
$('.parentBox').delegate('p', 'click', function(){
    // 为 .parentBox下面的所有的p标签绑定事件
});
//缺点：只能注册委托事件
```

- on注册事件/off解注册

  jQuery1.7之后，jQuery用on统一了**所有事件的处理方法**。

  最现代的方式，兼容zepto(移动端类似jQuery的一个库)，强烈建议使用。


```javascript
// on注册事件的语法：
// 第一个参数：events，绑定事件的名称可以是由空格分隔的多个事件（标准事件或者自定义事件）
// 第二个参数：selector, 执行事件的后代元素，代理使用（可选），如果没有后代元素，那么事件将有自己执行。
// 第三个参数：data，传递给处理函数的数据(可选)，事件触发的时候通过event.data来使用
// 第四个参数：handler，事件处理函数
$(selector).on(events[,selector][,data],handler);
```

```javascript
// on注册简单事件
// 表示给$(selector)绑定事件，并且由自己触发，不支持动态绑定。
$("#btn1").on( 'click', function() {});

$("#btn2").on("click",function () {
    //off()参数:要解绑的事件的名字
    $("#btn2").off("click");//解绑事件
});
```

```javascript
//on注册事件委托
// 表示给$(selector)绑定代理事件，当必须是它的内部元素span才能触发这个事件，支持动态绑定
$(selector).on( 'click','span', function() {});
```

- 解绑事件的注意点


```javascript
<input type="button" value="解绑事件" id="btn2"/>
<div id="dv">
    <p>这是div中的一个p标签</p>
</div>

<style>
    div{
        width: 200px;
        height: 100px;
        background-color: green;
    }
</style>

$(function () {
    //为div和p都绑定点击事件
    /*
    $("#dv>p").click(function () {
	    alert("p被点了");
    });
	*/

    $("#dv").delegate("p","click",function () {
        alert("p被点了");
    });

    $("#dv").click(function () {
        alert("div被点了");
    });
    
    $("#btn2").click(function () {
        //下面的代码是把父级元素的点击事件解绑了,子级元素的点击事件还存在
        $("#dv").off("click");

        //移除父级元素和子级元素的所有的事件
        //$("#dv").off();
    });
    //如果说父级元素和子级元素都是通过正常的方式绑定事件,如果通过off解绑的时候,父级元素的事件解绑了,子级元素的事件没有解绑
    //但是:如果子级元素是通过父级元素调用delegate的方式绑定的事件,父级元素使用off方式解绑事件,这个时候父级元素和子级元素的相同的事件都会被解绑
});
```

### 7.2 触发事件

```javascript
$(selector).trigger('click');  //通过代码触发click事件(模拟点击)

<input type="button" value="第一个按钮" id="btn1"/>
<input type="button" value="第二个按钮" id="btn2"/>
$(function () {
    $("#btn1").click(function () {
        $(this).css("backgroundColor","red");
    });
    //点击第二个按钮调用第一个按钮的点击事件---触发第一个按钮的点击事件
    $("#btn2").click(function () {
        //触发事件
        //$("#btn1").click();
        //trigger()方法中需要写上触发事件的名字
        $("#btn1").trigger("click");//触发事件
    });
});
```

### 7.3 jQuery事件对象

	jQuery事件对象其实就是js事件对象的一个封装，处理了兼容性。

```javascript
// screenX和screenY	对应屏幕最左上角的值
// clientX和clientY	距离可视区左上角的位置（忽视滚动条）
// pageX和pageY	    距离页面最顶部的左上角的位置（会计算滚动条的距离）

// event.keyCode	 按下的键盘代码
// event.data	     存储绑定事件时传递的附加数据

// event.stopPropagation()	阻止事件冒泡行为
// event.preventDefault()	阻止浏览器默认行为
// return false:既能阻止事件冒泡，又能阻止浏览器默认行为。
```

```javascript
//阻止事件冒泡
<script type="text/javascript">
    $(document).ready(function(){
    $("#innerDiv").click(function(event){
        alert("inner");
        //阻止事件冒泡方式一：
        //return false;

        //阻止事件冒泡方式二：
        event.stopPropagation();
    });
    $("#outerDiv").click(function(){
        alert("outerDiv");
    });
});
</script>


//阻止默认事件
$(function(){
    //href 就是a标签的默认行为，现在想弹出提示框后阻止默认行为
    $("a").click(function(event){
        alert("aaa");
        //阻止默认行为方式1：
        //return false;

        //阻止默认行为方式2：
        event.preventDefault();
    });
});
```

### 7.4 jQuery的data方法

	jQuery从1.2.3开始提供了data/removeData方法用来存储/删除数据。

```javascript
##1.基本使用：
$("div").data("key","value");
$("div").data("key");
$("div").removeData("key");

##2.原理：
jQuery的data方法并不是将数据直接放到当前的jQuery对象或者dom对象上的，而是通过jQuery.cache对象来缓存的数据。

具体上来说：
1.先给dom对象新增一个jquery.expando属性，这个属性的值为id(id是从1开始递增的)
2.而id又作为jQuery.cache的属性（key）。这样dom对象就与jQuery.cache建立了联系。
```

![](media\jquerycache.png)

### 7.5 案例

	案例：替换a标签的默认提示

```javascript
<script type="text/javascript">
    $(function(){
    //替换提示1  提示2  默认的提示文字
    $(".mytooltip").mouseover(function(event){
        //获取绑定的数据
        var title = $(this).data("mytitle");
        //如果第一次移到标签上面
        if(!title){
            //获取title属性值
            title = $(this).attr("title");
            //移除默认的提示
            $(this).removeAttr("title");
            //缓存数据
            $(this).data("mytitle",title);
        }
        //创建提示的div
        var $new = $("<div id='tooltip'>XXX</div>");
        $new.html(title);
        //设置位置
        //$new.offset({"left":0,"top":0});
        $new.offset({"left":event.pageX+5,"top":event.pageY-20});
        //追加到body并显示
        $new.appendTo("body").show();
    }).mouseout(function(){
        $("#tooltip").remove();
    }).mousemove(function(event){
        $("#tooltip").offset({"left":event.pageX+5,"top":event.pageY-20});
    });
});
</script>
```

	案例：图片提示

```javascript
$(function(){
    var x = 10;
    var y = 20;
    var href;

    $("a[class=tooltip]").mouseover(function(e){
        //1 获取对应标签的自带提示
        //var title = $("a[class=tooltip]").attr("title");
        //this代表的是DOM对象(页面中的元素)
        href = this.href;
        //删除自带提示
        this.href = "";
        //2 创建标签用于自定义提示
        var $div = $("<div id='tooltip'><img src='"+href+"'></img></div>");
        //3 将自定义提示的标签，添加到body标签下
        $("body").append($div);
        //4 如何调整显示位置(相对鼠标的坐标值:e.pageX和e.pageY)
        $("#tooltip").css({
            "top" : e.pageY + y + "px",
            "left" : e.pageX + x + "px"
        }).show(1000);
    }).mouseout(function(){
        this.href = href;
        $("#tooltip").remove();
    }).mousemove(function(e){
        $("#tooltip").css({
            "top" : e.pageY + y + "px",
            "left" : e.pageX + x + "px"
        });
    });
});
```

## 8. jQuery动画

	jQuery提供了三组基本动画，这些动画都是标准的、有规律的效果，jQuery还提供了自定义动画的功能。

### 8.1 三组基本动画

- 显示(show)与隐藏(hide)是一组动画：
- 滑入(slideUp)与滑出(slideDown)与切换(slideToggle)，效果与卷帘门类似
- 淡入(fadeIn)与淡出(fadeOut)与切换(fadeToggle)
- stop()  停止正在进行的动画

```javascript
$obj.show([speed], [callback]);
// speed(可选)：动画的执行时间
	// 如果不传，就没有动画效果。如果是slide和fade系列，会默认为normal
	// 毫秒值(比如1000),动画在1000毫秒执行完成(推荐)
	// 固定字符串，slow(600)、normal(400)、fast(200)，如果传其他字符串，则默认为normal。
// callback(可选):执行完动画后执行的回调函数

slideDown()/slideUp()/slideToggle();同理
fadeIn()/fadeOut();fadeToggle();同理
```

```javascript
$(document).ready(function(){
    $("#b1").click(function(){
        $("#b1Div").toggle("1000");
    });
    $("#b2").click(function(){
        $("#b2Div").slideToggle("slow");
    });
    $("#b3").click(function(){
        $("#b3Div").fadeToggle("slow");
    });
});
```

案例：逐个隐藏

```javascript
<input type="button" value="隐藏动画" id="btn1"/>
<input type="button" value="显示动画" id="btn2"/>
<div>
    <img src="images/11.jpg"/>
    <img src="images/12.jpg"/>
    <img src="images/13.jpg"/>
    <img src="images/14.jpg"/>
</div>

<style>
     div{
        width: 400px;
     }
	img{
        width:90px ;
        height:90px;
        vertical-align: top;
	}
</style>

<script>
//一起隐藏
$(function () {
    $("#btn1").click(function () {
        //回调函数
        $("div>img").hide(1000,function () {
            alert("结束了");
        });
    });

    $("#btn2").click(function () {
        //回调函数
        $("div>img").show(1000,function () {
            alert("结束了====");
        });
    });
});
</script>

<script>
//逐个隐藏
$(function () {
    $("#btn1").click(function () {
        //获取div,最后一个图片,隐藏
        $("div>img").last("img").hide(800,function () {
            //arguments.callee相当于当前的函数
            $(this).prev().hide(800,arguments.callee);
        });
    });
    //显示
    $("#btn2").click(function () {
        $("div>img").first("img").show(800,function () {
            //arguments.callee相当于当前的函数
            $(this).next().show(800,arguments.callee);
        });
    });
});
</script>
```

### 8.2 自定义动画

- animate: 自定义动画

```javascript
$(selector).animate({params},[speed],[easing],[callback]);
// {params}：要执行动画的CSS属性，带数字（必选）
// speed：执行动画时长（可选）
// easing:执行效果，默认为swing（缓动）  可以是linear（匀速）
// callback：动画执行完后立即执行的回调函数（可选）
```

案例：盒子放大缩小

```javascript
<input type="button" value="显示效果" id="btn"/>
<div id="dv"></div>

<style>
    *{
        margin: 0;
        padding: 0;
    }
    div{
        width: 200px;
        height: 100px;
        background-color: green;
        position: absolute;
    }
</style>

<script>
    $(function () {
    $("#btn").click(function () {
        //animate方法参数：
        /*
         * 1.是键值对---对象
         * 2.时间---1000毫秒---1秒
         * 3.匿名函数---回调函数
         * */
        $("#dv").animate({"width":"300px","height":"300px","left":"300px"},1000,function () {
            $("#dv").animate({"width":"50px","height":"30px","left":"800px","top":"300px","opacity":0.2},2000);
        });
    });
});
</script>
```

案例：手风琴

```javascript
<div id="box">
    <ul>
        <li><img src="images/1.jpg"/></li>
        <li><img src="images/2.jpg"/></li>
        <li><img src="images/3.jpg"/></li>
        <li><img src="images/4.jpg"/></li>
        <li><img src="images/5.jpg"/></li>
    </ul>
</div>

<style>
    ul {
        list-style: none
    }

    * {
        margin: 0;
        padding: 0;
    }

    div {
        width: 1150px;
        height: 400px;
        margin: 50px auto;
        border: 1px solid red;
        overflow: hidden;
    }

    div li {
        width: 240px;
        height: 400px;
        float: left;
    }

    div ul {
        width: 1300px;
    }
</style>

<script>
    $(function () {
        $("#box>ul>li").mouseover(function () {
            //当前的li的所有的兄弟元素li的宽度设置一下
            $(this).siblings("li").animate({"width":"100px"});
            $(this).animate({"width":"800px"});
        });
        $("#box>ul>li").mouseout(function () {
            $("#box>ul>li").animate({"width":"240px"});
        });
    });
</script>
```

### 8.3 动画队列与停止动画

	在同一个元素上执行多个动画，那么对于这个动画来说，后面的动画会被放到动画队列中，等前面的动画执行完成了才会执行（联想：火车进站）。

```javascript
// stop方法：停止当前正在进行的动画
stop(clearQueue, jumpToEnd);
// 第一个参数：可选。代表是否要清空未执行完的动画队列。
// 第二个参数：可选。代表是否直接将正在执行的动画跳转到当前动画的末尾。
// 如果不写参数，默认两个都是false

##1.stop基本使用以及stop第二个参数的含义
//stop() 是停止当前正在进行的动画
//stop有两个参数
//1.是否清空动画队列
//2.是否让要停止的那个动画跳转到动画结束的位置
//3.如果上面两个参数都没有写，那么默认都是false
var $box = $("#box");
$box.animate({"width":100,"height":100},3000);
$box.stop(false,true).animate({"width":500,"height":500},3000);

##2.动画队列
var $box = $("#box");
$box.animate({"width":100,"height":100},3000);
$box.animate({"width":500,"height":500},3000);
//下面代码stop的意思：让2行的动画立刻停止，同时让当前box来到动画结束的状态(宽高都是100)
//当2行动画停止并且来到动画结束的状态之后，因为现在的动画队列里面有3行和4行两个动画，所以会先执行3行的动画
$box.stop(false,true).animate({"width":400,"height":400},3000);

##3.清除动画队列
var $box = $("#box");
$box.animate({"width":100,"height":100},3000);
$box.animate({"width":500,"height":500},3000);
//下面代码stop的意思：让第2行的动画立刻停止，同时让当前box来到动画结束的状态(宽高都是100)。再然后清空当前
//动画队列里面的所有动画（当前动画队列里面只有3行的动画，所以会将3行的动画清理掉）
// 当上面的操作完成之后，再开启下面的动画
$box.stop(true,true).animate({"width":400,"height":400},3000);
```

案例：下拉菜单

```javascript
<div class="wrap">
    <ul>
        <li>
            <a href="javascript:void(0);">帅哥系列</a>
            <ul>
                <li><a href="javascript:void(0);">乔峰</a></li>
                <li><a href="javascript:void(0);">张无忌</a></li>
                <li><a href="javascript:void(0);">郭靖</a></li>
            </ul>
        </li>
        <li>
            <a href="javascript:void(0);">美女系列</a>
            <ul>
                <li><a href="javascript:void(0);">柳 岩</a></li>
                <li><a href="javascript:void(0);">杨 幂</a></li>
                <li><a href="javascript:void(0);">萝 拉</a></li>
            </ul>
        </li>
        <li>
            <a href="javascript:void(0);">渣男妇腐女</a>
            <ul>
                <li><a href="javascript:void(0);">凤姐</a></li>
                <li><a href="javascript:void(0);">助教</a></li>
                <li><a href="javascript:void(0);">导师</a></li>
            </ul>
        </li>
    </ul>
</div>


<style type="text/css">
    * {
        margin: 0;
        padding: 0;
    }

    ul {
        list-style: none;
    }

    .wrap {
        width: 330px;
        height: 30px;
        margin: 100px auto 0;
        padding-left: 10px;
        background-image: url(images/bg.jpg);
    }

    .wrap li{
        background-image: url(images/libg.jpg);
    }

    .wrap > ul > li {
        float: left;
        margin-right: 10px;
        position: relative;
    }

    .wrap a {
        display: block;
        height: 30px;
        width: 100px;
        text-decoration: none;
        color: #000;
        line-height: 30px;
        text-align: center;
    }

    .wrap li ul {
        position: absolute;
        top: 30px;
        display: none;
    }
</style>

<script>
$(function () {
    //获取.wrap下面的ul中的li,注册鼠标进入和离开的事件
    $(".wrap>ul>li").mouseover(function (e) {
        //鼠标进入
        //console.log(e.target);
        //$(this).children("ul").show(500);//显示
        $(this).children("ul").stop().show(500);//显示
    });
    $(".wrap>ul>li").mouseout(function () {
        //鼠标离开
        //$(this).children("ul").hide(500);//隐藏
        $(this).children("ul").stop().hide(500);//隐藏
    });
    //.stop()方法用来停止动画
});
</script>

//stop()停止正在进行的动画
//在这个案例中，如果不加stop，当鼠标从下方移出的时候会造成动画反复执行多次，造成这个问题的原因是事件冒泡。
//mouseover方法是有事件冒泡的，事件对象e的最终触发者其实是乔峰、张无忌、郭靖等a标签，所以每次移出a标签和移入a标签都会造成mouseover和mouseout执行，造成动画执行多次
//解决方案：1.添加stop，每次动画开始的时候先清除之前的动画
//         2.用mouseenter和mouseleave事件，而不是用mouseover和mouseout       
```

## 9. jQuery补充知识点

### 9.1 each方法

	jQuery的隐式迭代会对所有的DOM对象设置相同的值，但是如果我们需要给每一个对象设置不同的值的时候，就需要自己进行迭代了。
	
	作用：遍历jQuery对象集合，为每个匹配的元素执行一个函数

```javascript
// 参数一表示当前元素在所有匹配元素中的索引号
// 参数二表示当前元素（DOM对象）
$(selector).each(function(index,element){});
```

案例：设置透明度

```javascript
<ul id="uu">
    <li>1</li>
    <li>2</li>
    <li>3</li>
    <li>4</li>
    <li>5</li>
    <li>6</li>
    <li>7</li>
    <li>8</li>
    <li>9</li>
    <li>10</li>
</ul>

<style>
    ul li{
        width: 100px;
        height: 100px;
        background-color: green;
        list-style-type: none;
        float: left;
        margin-left: 10px;
    }
</style>

<script>
    $(function () {
    //页面加载后,让每个li的透明度发生改变
    //不同的元素不同的设置方式--each方法
    $("#uu>li").each(function (index,element) {
        //第一个参数是索引,第二个参数是对象
        //console.log(arguments[0]+"====="+arguments[1]);
        $(element).css("opacity",(index+1)/10);
    });
});
</script>
```

### 9.2 多库共存

	jQuery使用$作为标示符，但是如果与其他框架中的冲突时，jQuery可以释放 美元符 的控制权.

```javascript
//让jquery对$对象进行释放控制权
var xy=$.noConflict();
//从此以后xy就是曾经的$---一毛一样的
var $=100;//$原本是对象--->变量
xy(function () {
    xy("#btn").click(function () {
        alert("哈哈,我又变帅了");
    });
});
```


## 10. jQuery常用插件

> 插件：jquery不可能包含所有的功能，我们可以通过插件扩展jquery的功能。
>
> jQuery有着丰富的插件，使用这些插件能给jQuery提供一些额外的功能。
>
> 常用网站：jquery之家   jquery插件库     github    站长之家

- 颜色渐变插件
- 弹出层插件 layer
  - [layer插件](https://github.com/sentsin/layer)
- 图片懒加载插件
  - [jQuery.lazyload](https://github.com/tuupola/jquery_lazyload)
- 动画插件  Easing.js
- 抽奖插件
- 放大镜插件
- 手风琴插件
- 侧边栏插件
- jQueryUI：常用的2-3个功能演示
- 360度旋转插件
- 视差滚动插件

### 10.1 jquery.color.js

> animate不支持颜色的渐变，但是使用了jquery.color.js后，就可以支持颜色的渐变了。

```javascript
//使用插件的步骤
1. 引入jQuery文件
2. 引入插件（如果有用到css的话，需要引入css）
3. 使用插件

jQuery("#go").click(function(){
	jQuery("#block").animate({
		backgroundColor: "#abcdef"
	}, 1500 );
});
```

### 10.2 弹出层插件 layer

	参照官网实例进行开发

### 10.3 jquery.lazyload.js

> 懒加载插件 (当图片随着滚动条滚动将要显示的时候才去加载图片)
>

```javascript
//1. 引入jQuery文件
//2. 引入插件（如果有用到css的话，需要引入css）
//3. 使用插件

<!--引入插件-->
<script src="jquery.js" type="text/javascript"></script>
<script src="jquery.lazyload.js" type="text/javascript"></script>

<!--html标签-->
<img class="lazy" data-original="img/example.jpg" width="640" height="480">
    
<!--js代码-->
$("img.lazy").lazyload();
```

### 10.4 jquery Easing.js 插件

> 介绍：easing是jquery的一个插件，使用它可以创建更加绚丽的动画效果。
>

> 环境：因为easing是jQuery的插件，所以必须是在引入jquery之后再引入它
>

```javascript	
//animate 四个参数
//1.动画属性:格式为json
//2.duration:持续时间
//3.过渡效果:过渡效果
//4.complete:成功后的回调函数

$(".car").animate({"left": "150%"},  4000, "easeInElastic", function(){});
//注意点：car需要添加定位
```

```javascript
//也可以这样写
$(".car").animate({ 
    height:500, 
    width:600 
},
{ 
    easing: 'easeInOutQuad', 
    duration: 500, 
    complete: function(){} 
}); 
```

<img src="media/esse.png"/>

https://matthewlein.com/experiments/easing.html

### 10.5 抽奖插件

### 10.6 放大镜插件

### 10.7 手风琴插件

### 10.8 侧边栏插件

### 10.9 jquery.ui.js插件

> jQueryUI专指由jQuery官方维护的UI方向的插件。现在用的不多，主要用bootstrap。
>

官方API：[http://api.jqueryui.com/category/all/](http://api.jqueryui.com/category/all/)

其他教程：[jQueryUI教程](http://www.runoob.com/jqueryui/jqueryui-tutorial.html)

```javascript
//基本使用:
1.引入jQuery
2.引入jQueryUI的样式文件
3.引入jQueryUI的js文件
4.使用jQueryUI功能
    根据f12找到对应的页面元素，复制代码到当前html文件中
    复制对应的css和js文件代码(打开网页source源码，根据id查找对应的代码复制黏贴)
```

```javascript
## checkboxradio的使用
<link rel="stylesheet" href="css/jquery-ui.css">
<script src="js/jquery.min.js"></script>
<script src="js/jquery-ui.js"></script>

<form style="margin-top: 1em;">
    <div id="radioset" role="toolbar" class="ui-controlgroup ui-controlgroup-horizontal ui-helper-clearfix">
        <input type="radio" id="radio1" name="radio" class="ui-checkboxradio ui-helper-hidden-accessible"><label for="radio1" class="ui-button ui-widget ui-checkboxradio-radio-label ui-controlgroup-item ui-checkboxradio-label ui-corner-left ui-checkboxradio-checked ui-state-active"><span class="ui-checkboxradio-icon-space"> </span>Choice 1</label>
        <input type="radio" id="radio2" name="radio" checked="checked" class="ui-checkboxradio ui-helper-hidden-accessible"><label for="radio2" class="ui-button ui-widget ui-checkboxradio-radio-label ui-checkboxradio-label ui-controlgroup-item"><span class="ui-checkboxradio-icon-space"> </span>Choice 2</label>
        <input type="radio" id="radio3" name="radio" class="ui-checkboxradio ui-helper-hidden-accessible"><label for="radio3" class="ui-button ui-widget ui-checkboxradio-radio-label ui-controlgroup-item ui-checkboxradio-label ui-corner-right"><span class="ui-checkboxradio-icon-space"> </span>Choice 3</label>
    </div>
</form>

<script>
    $("#radioset").buttonset();
</script>
```

### 10.10 360度3D 旋转插件

```javascript
##1. 引用js文件包
<script src="js/jquery.min.js"></script>
<script src="js/circlr.min.js"></script>

##2. 书写结构：
<div class="container">
        <div id="circlr">
             <img data-src="picture/1.png" />
             <img data-src="picture/2.png" /> 
             <img data-src="picture/3.png" />  
             ...
            <div id="loader"></div>
        </div>
 </div>

//注意  自定义属性  data-src 里面写路径    
//loader 是加载图片  

##3. css样式
#circlr {
  cursor: move;
  margin: 0 auto;
  min-height: 100px;
  position: relative;
}
#circlr #loader {
  background: url(../images/loader.gif) center center no-repeat;
  bottom: 0;
  display: none;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
}

##4. 调用文件对象
<script type="text/javascript">
	var crl = circlr('circlr', {
	  scroll : true,
	  loader : 'loader'
	});
</script>
```

<img src="media/car.png" />

### 10.11 视差滚动插件

> 视差滚动（Parallax Scrolling）指网页滚动过程中，多层次的元素进行不同程度的移动，视觉上形成立体运动效果的网页展示技术
>

> 主要核心就是前景和背景以不同的速度移动，从而创造出3D效果。 这种效果可以给网站一个很好的补充。
>

#### a) 特性

```javascript
视差滚动效果酷炫，适合于个性展示的场合。
视差滚动徐徐展开，适合于娓娓道来，讲故事的场合。
视差滚动容易迷航，需要具备较强的导航功能。
```

#### b) 原理

```javascript
传统的网页的文字、图片、背景都是一起按照相同方向相同速度滚动的，而视差滚动则是在滚动的时候，内容和多层次的背景实现或不同速度，或不同方向的运动。

有的时候也可以加上一些透明度、大小的动画来优化显示。 

利用background-attachment属性实现。

background-attachment: fixed || scroll || local
 1.fixed:背景图片的位置固定不变
 2.scroll:当滚动容器的时候，背景图片也会跟随滚动
 3.local:背景图片会跟随内容一起滚动
```

```javascript
## background-attachment介绍
<div id="box">
    <div id="inner">
        <p>文本</p>
        <p>文本</p>
        <p>文本</p>
        <p>文本</p>
        <p>文本</p>
        <p>文本</p>
        <p>文本</p>
        <p>文本</p>
        <p>文本</p>
        <p>文本</p>
        <p>文本</p>
        <p>文本</p>
        <p>文本</p>
        <p>文本</p>
        <p>文本</p>
        <p>文本</p>
        <p>文本</p>
        <p>文本</p>
        <p>文本</p>
        <p>文本</p><p>文本</p>
        <p>文本</p>
        <p>文本</p>
        <p>文本</p>
        <p>文本</p>
    </div>
</div>


<style>
    #box{
        width: 300px;
        height: 300px;
        background: yellow;
        overflow: auto;
    }

    #inner{
        width: 250px;
        height: 400px;
        background: red;
        overflow: auto;
        background-image: url(images/shuli.jpg);
   		/*background-attachment:fixed;*/  /*无论是inner盒子本身发生滚动还是inner盒子内容发生滚动，背景图片都不滚动*/
        /*background-attachment:scroll;*/ /*当inner盒子滚动的时候背景图片也会滚动，inner内容滚动的时候背景图片不滚动*/
         background-attachment:local; /*滚动inner盒子本身还是inner盒子内容，背景图片都会被滚动*/
    }
</style>
```

#### c) Stellar.js的使用

> stellar.js是一个 jQuery插件，能很容易地给网站添加视差滚动效果。 尽管已经停止了维护，但它非常稳定，与最新版本的jQuery兼容，很多开发者也在使用它。 这个插件在jQuery插件库里很流行。
>

	http://markdalgleish.com/projects/stellar.js

```javascript
##1. 引用 js包
<script src="path/to/jquery/jquery.min.js"></script>
<script src="path/to/jquery.stellar.min.js"></script>
```

```javascript
##2. 引用html
<div class="content" id="content1">
    <p>TEXT HERE</p>
</div>
<div class="content" id="content2">
    <p>TEXT HERE</p>
</div>
<div class="content" id="content3" data-stellar-background-ratio="0.5">
    <p>TEXT HERE</p>
</div>
<div class="content" id="content4" data-stellar-background-ratio="0.5">
    <p>TEXT HERE</p>
</div>
<div class="content" id="content5" data-stellar-background-ratio="0.5">
    <p>TEXT HERE</p>
</div>
<div class="content" id="content6" data-stellar-background-ratio="0.5">
    <p>TEXT HERE</p>
</div> 
```

```javascript
##3. 引入CSS
body {
    font-size: 20px;
    color: white;
    text-shadow: 0 1px 0 black, 0 0 5px black;
}
p {
    padding: 0 0.5em;
    margin: 0;
}
.content {
    background-attachment: fixed;
    height: 400px;
}
#content1 {
    background-image: url("xxx.jpg");
}
#content2 {
    background-image: url("xxx.jpg");
}
#content3 {
    background-image: url("xxx.jpg");
}
#content4 {
   background-image: url("xxx.jpg");
}
#content5 {
   background-image: url("xxx.jpg");");
}
#content6 {
    background-image: url("xxx.jpg");
}
```

```javascript
##4. js调用函数
$.stellar({
    horizontalScrolling: false,
    responsive: true
});
```

#### d) Stellar.js的详细参数

| 名称                                     | 说明                                                         |
| ---------------------------------------- | ------------------------------------------------------------ |
| horizontalScrolling 和 verticalScrolling | 该配置项用来设置视差效果的方向。horizontalScrolling设置水平方向，verticalScro设置垂直方向， 为布尔值，默认为true |
| responsive                               | 窗口加载完毕或者改变大小时是否刷新滚动元素，默认为false      |
| hideDistantElements                      | 该配置项用来设置移出视线的元素是否隐藏，其值为布尔值，若不想隐藏则设置为false |
| data-stellar-ratio="2"                   | 定义了此元素针对页面滚动的速度比率，比如，0.5为页面滚动的50%，2为页面滚动的200%，所以数值越大，你可以看到页面元素滚动速度越快。 |
| data-stellar-background-ratio            | 该配置项用在单个元素中，其值为一个正数，用来改变被设置元素的影响速度。 例如 值为0.3时，则表示背景的滚动速度为正常滚动速度的0.3倍。如果值为小数时最好在样式表中设置 |

### 10.12 制作jquery插件

> 给jQuery增加方法的两种方式

```javascript
$.method = fn		静态方法
$.fn.method = fn	实例方法
```

> 原理：jquery插件其实说白了就是给jquery的原型属性增加一个新的方法，让所有的jquery对象拥有某一个功能。

```javascript
//通过给prototype添加方法就能够扩展jquery对象
$.prototype.pluginName = function() {};
//fn 等效于 prototype
$.fn.pluginName = function() {};
```

- 增加一个静态方法，实现两个数的和，插件

```javascript
(function ($) {
  $.add = function (a, b) {
    return a + b;
  }
}(jQuery))

$.add(5, 6);
```

- 实例方法制作简易的jquery插件

```javascript
//1.新建jquery.bgColor.js文件
//给jquery对象新增一个设置颜色的方法
$.fn.bgColor = function(color){
    //原型中的this是当前对象
    this.css("backgroundColor",color);
    return this;
}

//2.使用上面自定义的jquery插件
//2.1 引入js
//2.2 使用自定义的插件
//调用我们自己定义的方法给jquery对象赋予颜色
$("div").bgColor("red");
```

- 自定义表格插件 

```javascript
(function($) {
    // 内部的变量，外部无法访问，防止变量名冲突
    var a = 0;
    // 给$增加了一个实例方法
    $.fn.table = function (header, data) {
        var array = [];
        array.push('<table>');
        array.push('<tr>');

        // 生成表头
        $.each(header, function () {
            array.push('<th>' + this + '</th>');
        })
        array.push('</tr>');

        // 生成数据行
        $.each(data, function (index) {
            // this是当前遍历到的数组中的每一个对象
            // 拼数据行
            array.push('<tr>');
            array.push('<td>' + (index + 1) + '</td>');

            // 遍历对象，拼表格
            for (var key in this) {
                array.push('<td>' + this[key] + '</td>');
            }
            array.push('</tr>');
        })
        array.push('</table>');
        this.append(array.join(''));
    }
}(window.jQuery))
```

